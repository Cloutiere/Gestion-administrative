[project]
name = "python-template" # Nom du projet (peut être personnalisé)
version = "0.1.0" # Version actuelle du projet
description = "Une application Flask pour la gestion des tâches enseignants." # Description concise du projet
authors = [
    {name = "Votre Nom", email = "vous@example.com"} # Informations sur l'auteur (à personnaliser)
]
requires-python = ">=3.11" # Version minimale de Python requise
dependencies = [
    "flask>=3.0.0", # Dépendance principale pour le framework web Flask
    "psycopg2-binary>=2.9.9", # Connecteur PostgreSQL (binaire pour faciliter l'installation)
    "openpyxl>=3.1.0", # Bibliothèque pour lire et écrire les fichiers Excel XLSX
    "Flask-Login>=0.6.3", # Nouvelle dépendance pour la gestion de l'authentification utilisateur
    "werkzeug>=3.1.3",
]

[project.optional-dependencies]
dev = [
    "ruff", # Outil de linting et formatage (pour le développement)
]

# --- Configuration de Ruff (Linter et Formateur) ---
[tool.ruff]
# Répertoires source à analyser par Ruff. "." signifie le répertoire courant.
src = ["."]

# Exclure les répertoires et fichiers typiquement non analysés.
# Utile pour éviter d'analyser les environnements virtuels, caches, builds, etc.
exclude = [
    ".bzr",
    ".direnv",
    ".eggs",
    ".git",
    ".hg",
    ".mypy_cache",
    ".nox",
    ".pants.d",
    ".ruff_cache",
    ".svn",
    ".tox",
    ".venv", # Environnement virtuel Python standard
    "__pypackages__",
    "_build",
    "buck-out",
    "build",
    "dist",
    "node_modules", # Dépendances JavaScript/Node.js
    "venv", # Autre nom commun pour l'environnement virtuel
    ".pythonlibs", # Utilisé par certains environnements comme Replit
]

# Longueur maximale des lignes (s'applique au linter et au formateur).
line-length = 150

# Définir la version Python cible pour Ruff.
# Doit correspondre à votre `requires-python` pour assurer la compatibilité.
target-version = "py311" # Correspond à Python 3.11


# --- Configuration spécifique au Linter de Ruff ([tool.ruff.lint]) ---
[tool.ruff.lint]
# Règles de linter à activer.
# E: Erreurs Pyflakes (erreurs de syntaxe, noms non définis, etc.)
# F: Flakes Pyflakes (logique potentiellement erronée, variables non utilisées)
# W: Warnings Pycodestyle (erreurs de style, ex: E501 ligne trop longue)
# I: Isort (vérification et correction des imports)
# UP: Pyupgrade (suggestions pour moderniser la syntaxe Python)
select = ["E", "F", "W", "I", "UP"]

# Règles spécifiques à ignorer.
# Par exemple, E501 (longueur de ligne) est souvent géré par le formateur seul.
# ignore = ["E501"] # Décommenter si vous souhaitez ignorer cette règle pour le linter.

# Déclarer des variables globales que Ruff pourrait ne pas détecter,
# afin d'éviter des erreurs F821 (undefined name).
# globals = [
#   "g",
#   "request"
# ]

# Configuration des règles "fixables" ou "non-fixables".
# Généralement, la configuration par défaut de Ruff est suffisante.
# fixable = ["A", "B"]
# unfixable = []


# --- Configuration spécifique au Formateur de Ruff ([tool.ruff.format]) ---
[tool.ruff.format]
# Style de guillemets pour les chaînes de caractères.
quote-style = "double"

# Type d'indentation : "space" ou "tab".
indent-style = "space"

# `skip-magic-trailing-comma` (Commenté car la valeur par défaut `false` est souvent préférée)
# Laisser à `false` (défaut) est généralement bien pour la cohérence.
# skip-magic-trailing-comma = false